/* ==========================================================================
   1. ROOT VARIABLES & GLOBAL RESET (全局变量与重置)
   ========================================================================== */
:root {
    --bg-color: #f5f5f5;
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --dot-color: #dcdcdc;
    --text-color: #666;
    --placeholder-bg: #e6e6e6;
    --app-icon-default: #cccccc;
    --app-icon-size: 62px;
    font-family: var(--font-family);
    
    /* Dock 颜色 (带磨砂感) */
    --dock-bg: rgba(208, 208, 208, 0.8);
    
    /* 汽水音乐主题色 */
    --soda-yellow: #fce76d;
    --soda-dark: #121212;

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    /* 禁止高亮点击颜色，像原生APP一样冷淡 */
    -webkit-tap-highlight-color: transparent;
    /* 禁止长按选中文本 (除了输入框) */
    -webkit-user-select: none;
    user-select: none;
}

/* 允许输入框被选中 */
input, textarea, [contenteditable="true"] {
    -webkit-user-select: text;
    user-select: text;
}

html {
    /* 禁止系统自动调整字体大小 */
    -webkit-text-size-adjust: 100%;
    /* 强制占满高度 */
    height: 100%; 
}

body {
    margin: 0;
    padding: 0;
    /* 这里的背景色很重要！改成和你壁纸接近的颜色，这样就算有缝隙也看不出来！ */
    background-color: #f0f2f5; 
    /* 强制身体高度占满 html */
    height: 100%; 
    /* 禁止整个页面在浏览器里回弹橡皮筋效果 */
    overflow: hidden; 
}

/* iOS风输入框样式 */
[contenteditable="true"] {
    background-color: rgba(235, 235, 240, 0.8);
    border-radius: 6px;
    padding: 2px 6px;
    caret-color: #007aff; 
    min-width: 20px;
    cursor: text;
    transition: background-color 0.2s;
}
[contenteditable="true"]:focus {
    background-color: rgba(225, 225, 230, 0.9);
    outline: none;
}

/* ==========================================================================
   2. PHONE CONTAINER & LAYOUT (手机容器与布局)
   ========================================================================== */

.phone-screen {
    width: 100%;
    /* 重点：用 100vh 强制撑开到视口高度 */
    height: 100vh; 
    position: relative;
    overflow: hidden;
    /* 确保它也有背景色 */
    background-color: #f0f2f5; 
    /* 背景点点 */
    background-image: 
        radial-gradient(var(--dot-color) 20%, transparent 20%), 
        radial-gradient(var(--dot-color) 20%, transparent 20%);
    background-position: 0 0, 15px 15px;
    background-size: 30px 30px;
}

/* 【修改 2】让桌面内容整体下移，不再顶着刘海 */
.desktop-content {
    /* 原来是 50px，现在改为 90px，给顶部留出更多呼吸感 */
    padding: 90px 20px 120px 20px; 
    display: flex;
    flex-direction: column;
    gap: 15px;
    height: 100%;
    overflow-y: auto;
    /* 增加平滑滚动 */
    -webkit-overflow-scrolling: touch; 
}

/* ==========================================================================
   3. STATUS BAR & HOME BAR (状态栏与底部条)
   ========================================================================== */
.status-bar {
    height: 47px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 26px 0 26px;
    font-size: 15px;
    font-weight: 600;
    color: #000;
    z-index: 1000;
    position: absolute;
    top: 0;
    width: 100%;
    pointer-events: none;
}

.status-left { display: flex; align-items: center; gap: 4px; }
.status-star { font-size: 12px; margin-top: 1px; pointer-events: auto; cursor: text; }
.right-icons { display: flex; align-items: center; gap: 6px; }
.status-icon { height: 18px; width: auto; display: block; }
.icon-battery { height: 26px; }

.home-bar { 
    position: absolute;     
    bottom: 8px; 
    left: 50%; 
    transform: translateX(-50%); 
    width: 130px; height: 5px; 
    background-color: #000; 
    border-radius: 3px; 
    z-index: 1000; 
    cursor: pointer; 
}

/* 隐形大按钮模式 */
.home-bar.hidden-mode {
    bottom: 10px; 
    width: 200px; height: 30px; 
    background-color: transparent !important; 
    padding: 10px;
}
.home-bar:active { background-color: #555; }

/* ==========================================================================
   4. DESKTOP & WIDGETS (桌面与小组件)
   ========================================================================== */
.desktop-content {
    padding: 90px 20px 120px 20px; 
    display: flex; flex-direction: column; gap: 15px;
    height: 100%; overflow-y: auto;
    -webkit-overflow-scrolling: touch; 
}

/* 顶部组件 */
.top-widget-area {
    position: relative; height: 140px;
    display: grid; grid-template-columns: 1fr auto 1fr;
    align-items: center; margin-top: 10px;
}
.side-pills { display: flex; flex-direction: column; gap: 15px; align-items: center; }
.pill { background: rgba(255,255,255,0.8); border-radius: 20px; padding: 8px 12px; font-size: 12px; color: #777; display: flex; align-items: center; justify-content: center; min-width: 80px; box-shadow: 0 2px 5px rgba(0,0,0,0.3); backdrop-filter: blur(5px); cursor: pointer; }
.center-avatar-area { display: flex; flex-direction: column; align-items: center; gap: 8px; margin-top: -10px; min-width: 120px; }
.avatar-circle { width: 80px; height: 80px; border-radius: 50%; background-color: var(--placeholder-bg); border: 3px solid #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.35); position: relative; background-size: cover; background-position: center; cursor: pointer; }
.avatar-circle::after { content: '★'; position: absolute; bottom: 0; right: 0; color: #999; font-size: 12px; background: #fff; border-radius: 50%; width: 16px; height: 16px; display: flex; justify-content: center; align-items: center; pointer-events: none; }
.widget-text-sm { font-size: 10px; color: #999; text-align: center; cursor: pointer; }
.widget-title { font-size: 12px; color: #555; margin-top: 5px; cursor: pointer; }

/* 照片墙组件 */
.photo-widget-area { height: 150px; position: relative; margin-top: 35px; display: flex; justify-content: center; }
.polaroid { background: #fff; padding: 6px 6px 20px 6px; box-shadow: 0 4px 8px rgba(0,0,0,0.4); position: absolute; width: 100px; height: 120px; display: flex; flex-direction: column; align-items: center; }
.polaroid-img { width: 100%; height: 100%; background-color: var(--placeholder-bg); border: 1px solid #f0f0f0; background-size: cover; background-position: center; cursor: pointer; }
.p-left { transform: rotate(-6deg) translate(-90px, 10px); z-index: 1; }
.p-center { transform: rotate(2deg) translate(0px, 0px); z-index: 2; }
.p-right { transform: rotate(5deg) translate(90px, 15px); z-index: 1; }
.clip { position: absolute; width: 10px; height: 25px; border: 2px solid #aaa; border-radius: 10px; top: -10px; left: 10px; background: transparent; z-index: 3; pointer-events: none; }
.widget-label-centered { position: absolute; bottom: -24px; width: 100%; text-align: center; font-size: 12px; color: #555; cursor: pointer; }
.star-decoration { position: absolute; font-size: 24px; color: #b0b0b0; top: 250px; left: 20px; transform: rotate(-15deg); z-index: 0; }

/* APP 网格 */
.app-grid { display: grid; grid-template-columns: repeat(4, 1fr); row-gap: 20px; column-gap: 15px; margin-top: 30px; padding: 0 5px; }
.app-item { display: flex; flex-direction: column; align-items: center; gap: 6px; cursor: pointer; transition: transform 0.1s; }
.app-item:active { transform: scale(0.95); }
.app-icon { width: var(--app-icon-size); height: var(--app-icon-size); background-color: var(--app-icon-default); border-radius: 14px; position: relative; overflow: hidden; background-size: cover; background-position: center; }
.app-icon::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.4) 100%); pointer-events: none; }
.app-name { font-size: 11px; color: #333; text-align: center; cursor: pointer; }
.search-pill { margin: 10px auto 0; background: rgba(255,255,255,0.5); padding: 4px 12px; border-radius: 20px; display: flex; align-items: center; gap: 5px; font-size: 11px; color: #555; backdrop-filter: blur(10px); cursor: pointer; width: fit-content; }

/* Dock 栏 */
.dock { 
    position: absolute; 
    bottom: calc(4px + env(safe-area-inset-bottom)); 
    left: 15px; right: 15px;
    height: 100px;
    background: var(--dock-bg);
    backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
    border-radius: 38px;
    display: flex; justify-content: space-around; align-items: center;
    padding: 0 10px;
    z-index: 50; 
}

/* ==========================================================================
   5. APP WINDOWS & SUBPAGES (通用APP窗口与子页面)
   ========================================================================== */
.app-window, .sub-page-root { 
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: #fff;
    z-index: 999;
    display: none;
    flex-direction: column;
    animation: openApp 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
    overflow: hidden;
}

@keyframes openApp {
    from { transform: scale(0.95); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.sub-page { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
    background: #f2f2f7; z-index: 20; 
    transform: translateX(100%); transition: transform 0.3s ease; 
    display: flex; flex-direction: column; 
}
.sub-page.active { transform: translateX(0); }

.sub-header { 
    height: 88px; background: #f2f2f7; padding-top: 60px; 
    display: flex; align-items: center; padding-left: 8px; 
    border-bottom: 0.5px solid #c6c6c8; 
    font-weight: 600; font-size: 17px; 
}
.back-btn { padding: 10px; color: #007aff; cursor: pointer; font-weight: normal; font-size: 17px; display: flex; align-items: center; gap: 4px; }
.sub-content { 
    padding: 20px 16px; 
    flex: 1; /* 让它占满剩余空间 */
    overflow-y: auto; /* 关键：内容多了自动出现滚动条 */
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch; /* iOS丝滑滚动 */
}

/* ==========================================================================
   6. WECHAT CORE (微信核心部分)
   ========================================================================== */
.wx-header { background: #fff; padding: 60px 16px 10px; display: flex; flex-direction: column; gap: 12px; z-index: 50; position: relative; }
.wx-header-top { display: flex; align-items: center; justify-content: space-between; }
.wx-h-left { position: relative; }
.wx-small-avatar { width: 36px; height: 36px; border-radius: 50%; background-color: #eee; background-size: cover; background-position: center; border: 1px solid rgba(0,0,0,0.05); }
.wx-search-wrapper { width: 100%; }
.wx-search-bar { background: #f0f0f0; height: 36px; border-radius: 10px; display: flex; justify-content: center; align-items: center; gap: 6px; color: #888; font-size: 15px; }
.wx-search-icon { width: 16px; height: 16px; fill: #888; }
.wx-content-area { flex: 1; background: #fff; overflow-y: auto; }
.wx-scroll-view { height: 100%; padding-bottom: 60px; }

/* 聊天 Blink 风格药丸切换 */
.wx-blink-tabs { display: flex; background: #fff; border-radius: 20px; padding: 4px; gap: 5px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
.blink-tab { padding: 6px 16px; border-radius: 16px; font-size: 13px; font-weight: 600; color: #999; cursor: pointer; transition: all 0.2s; }
.blink-tab.active { background: #333; color: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }

/* 悬浮药丸底部导航栏 (P5风格) */
.wx-tab-bar {
    height: 65px; 
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    border-top: none; 
    position: absolute; bottom: 30px; left: 20px; right: 20px;
    border-radius: 35px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    display: flex; justify-content: space-around; align-items: center; padding-top: 0;
    z-index: 9999 !important; /* 确保层级最高 */
}
.wx-tab-icon svg { fill: #b0b0b0 !important; width: 28px !important; height: 28px !important; display: block !important; }
.wx-tab-item.active .wx-tab-icon svg { fill: #333 !important; }
.wx-tab-item span { display: none; }

/* 右上角下拉菜单 */
.wx-dropdown-menu { position: absolute; top: 45px; right: 10px; background: #4c4c4c; color: #fff; border-radius: 6px; width: 150px; padding: 5px 0; display: none; flex-direction: column; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 200; }
.wx-dropdown-menu::after { content: ''; position: absolute; top: -6px; right: 10px; border-left: 6px solid transparent; border-right: 6px solid transparent; border-bottom: 6px solid #4c4c4c; }
.wx-dropdown-menu.active { display: flex; animation: fadeIn 0.2s; }
.wx-dd-item { display: flex; align-items: center; gap: 10px; padding: 12px 15px; font-size: 14px; cursor: pointer; }
.wx-dd-item:active { background: rgba(255,255,255,0.1); }
.wx-dd-item svg { width: 20px; height: 20px; fill: #fff; }
.wx-dd-divider { height: 1px; background: rgba(255,255,255,0.1); margin: 0 10px; }

/* ==================== 聊天详情页样式 ==================== */
.chat-header {
    height: 88px; /* 包含状态栏 */
    background: rgba(245, 245, 245, 0.95);
    backdrop-filter: blur(20px);
    display: flex;
    align-items: flex-end;
    padding: 0 16px 10px;
    position: fixed; top: 0; left: 0; right: 0;
    z-index: 100;
    border-bottom: 1px solid rgba(0,0,0,0.1);
}
.chat-back { display: flex; align-items: center; color: #007aff; cursor: pointer; font-size: 16px; }
.chat-back svg { width: 24px; height: 24px; fill: currentColor; margin-left: -6px; }
.chat-title-box { flex: 1; text-align: center; margin-bottom: 2px; display: flex; flex-direction: column; align-items: center; }
#chat-header-name { font-weight: 600; font-size: 16px; color: #000; }
.chat-menu svg { fill: #007aff; }

.chat-body {
    padding-top: 100px; /* 避开头部 */
    padding-bottom: 80px; /* 避开底部 */
    height: 100%;
    overflow-y: auto;
    background: #fff; /* 以后可以换背景图 */
}

.chat-footer {
    position: absolute; bottom: 0; left: 0; width: 100%;
    height: 80px; /* 加大一点给HomeBar留空 */
    background: #f0f0f0;
    display: flex; align-items: center;
    padding: 10px 16px 30px 16px; /* 底部留白 */
    gap: 10px;
    z-index: 100;
}
.chat-btn-icon svg { width: 28px; height: 28px; fill: #999; }
.chat-input-box {
    flex: 1;
    height: 36px;
    background: #fff;
    border-radius: 18px;
    padding: 0 10px 0 15px;
    display: flex; align-items: center;
    border: 1px solid #ddd;
}
.chat-input-box input { border:none; outline:none; font-size:15px; width: 100%; }

/* ==================== 底部选择弹窗 (Sheet) ==================== */
.selector-sheet {
    background: #fff;
    width: 100%;
    border-radius: 20px 20px 0 0;
    max-height: 70%;
    display: flex; flex-direction: column;
    padding-bottom: 20px;
    animation: slideUp 0.3s ease;
}
.sheet-header {
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
    display: flex; justify-content: space-between; align-items: center;
    font-size: 16px; font-weight: bold; color: #333;
}
.sheet-content {
    overflow-y: auto;
    padding: 0;
}
.sheet-item {
    display: flex; align-items: center;
    padding: 12px 20px;
    border-bottom: 1px solid #f9f9f9;
    cursor: pointer;
}
.sheet-item:active { background: #f5f5f5; }
.sheet-avatar { width: 40px; height: 40px; border-radius: 50%; background: #eee; margin-right: 12px; background-size: cover; background-position: center; }
.sheet-name { font-size: 16px; color: #333; font-weight: 500; }
.sheet-skip-btn {
    text-align: center; padding: 15px; color: #999; font-size: 14px; cursor: pointer; border-top: 5px solid #f5f5f5;
}

@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

/* ==========================================================================
   7. WECHAT PROFILE (个人主页 P3清冷风)
   ========================================================================== */
#wx-profile-view {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #fff; 
    z-index: 10000 !important; /* 核心修复：层级必须极高 */
    display: none; flex-direction: column; padding: 0 20px;
    animation: slideInRight 0.3s ease;
}
.wx-profile-cover { position: absolute; top: 0; left: 0; width: 100%; height: 280px; background-color: #ddd; background-size: cover; background-position: center; z-index: 0; mask-image: linear-gradient(to bottom, black 80%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%); }
.wx-p3-nav { height: 60px; display: flex; justify-content: space-between; align-items: center; padding-top: 60px; position: relative; z-index: 10; pointer-events: none; }
.wx-p3-container { display: flex; flex-direction: column; align-items: flex-start; margin-top: 20px; position: relative; z-index: 10; pointer-events: none; }
.wx-p2-back, .wx-p3-bubble, .wx-p3-bubble-right, .wx-big-avatar-new, .wx-small-avatar-right, .edit-text { pointer-events: auto; }

.wx-p3-header-area { position: relative; margin-bottom: 20px; margin-top: 30px; width: 100%; height: 140px; }
.wx-p3-bubble { position: absolute; top: -50px; left: 60px; background: #a8a8a8; color: #fff; padding: 8px 16px; border-radius: 20px; font-size: 13px; white-space: nowrap; box-shadow: 0 4px 10px rgba(0,0,0,0.1); animation: floatBubble 3s ease-in-out infinite; }
.wx-p3-bubble::after { content: ''; position: absolute; bottom: -6px; left: 20px; width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 8px solid #a8a8a8; }
.wx-p3-bubble-right { position: absolute; top: auto; bottom: 80px; right: 10px; background: #333; color: #fff; padding: 8px 16px; border-radius: 20px; font-size: 13px; max-width: 180px; box-shadow: 0 4px 10px rgba(0,0,0,0.15); z-index: 20; animation: floatBubble 3s ease-in-out infinite; animation-delay: 1.5s; }
.wx-p3-bubble-right::after { content: ''; position: absolute; bottom: -6px; right: 20px; width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 8px solid #333; }
.wx-big-avatar-new { width: 100px; height: 100px; border-radius: 50%; background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%); border: 3px solid #fff; box-shadow: 0 0 0 1px #ddd, 0 10px 20px rgba(0,0,0,0.05); background-size: cover; background-position: center; cursor: pointer; }
.wx-small-avatar-right { position: absolute; top: auto; bottom: 10px; right: 0; width: 60px; height: 60px; border-radius: 50%; background-color: #333; border: 2px solid #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.2); background-size: cover; background-position: center; cursor: pointer; z-index: 20; }
.wx-p3-info-block { margin-left: 10px; margin-bottom: 25px; }
.wx-p3-name { font-size: 20px; font-weight: bold; color: #333; margin-bottom: 8px; position: relative; display: inline-block; }
.wx-p3-name::after { content: '★'; font-size: 14px; margin-left: 5px; vertical-align: middle; }
.wx-p3-id { font-size: 14px; color: #999; margin-bottom: 12px; padding-left: 12px; border-left: 3px solid #eee; }
.wx-p3-desc { font-size: 14px; color: #555; line-height: 1.6; }
.wx-p3-tags { display: flex; flex-direction: column; gap: 10px; width: 100%; }
.wx-p3-tag { padding: 10px 15px; border-radius: 8px; background: #f9f9f9; font-size: 14px; color: #666; border-left: 4px solid #ddd; }
.wx-p3-tag.grey { background: #e0e0e0; color: #555; border-left: 4px solid #999; }
.wx-p3-footer { position: absolute; bottom: 50px; left: 0; width: 100%; margin-top: 0; font-size: 12px; color: #aaa; text-align: center; line-height: 1.5; }

@keyframes floatBubble { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
@keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }

/* ==========================================================================
   8. CONTACTS (iMessage风格 通讯录)
   ========================================================================== */
/* 背景强制白 */
#wx-page-contacts { background-color: #fff !important; }

/* 头部容器 */
.im-header-top {
    position: relative !important; /* 给绝对定位做参考 */
    height: auto !important;       /* 高度自适应 */
    padding: 65px 20px 10px 20px !important; /* 避开刘海 */
    
    /* ★★★ 关键：保持弹性布局，让标题居中 ★★★ */
    display: flex !important;
    justify-content: center !important; 
    align-items: center !important;
}

/* 标题样式 */
.im-header-title {
    font-size: 17px;
    font-weight: 600;
    color: #000;
    /* 因为左边有个30px占位符，为了视觉绝对居中，可以稍微左移一点，或者不管它也行 */
    margin-right: 30px; 
}

/* ★★★ 加号按钮 (完全体复活版) ★★★ */
.im-add-btn {
    /* --- 1样子 (找回来的代码) --- */
    width: 32px !important;
    height: 32px !important;
    background: #007aff !important; /* 蓝色背景 */
    border-radius: 50% !important;  /* 圆形 */
    box-shadow: 0 4px 10px rgba(0,122,255,0.3) !important; /* 阴影 */
    
    /* 让内部图标居中 */
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;

    /* --- 位置 (防遮挡核武) --- */
    position: absolute !important; 
    right: 20px !important;        /* 钉死在右边 */
    bottom: 10px !important;       /* 钉死在底部 */
    
    /* --- 交互 (强制响应) --- */
    z-index: 99999 !important;     
    pointer-events: auto !important;
    cursor: pointer !important;
    transform: scale(1);
}

/* 按钮里的图标颜色 */
.im-add-btn svg {
    fill: #fff !important;
    width: 18px !important;
    height: 18px !important;
    pointer-events: none !important; /* 让点击穿透图标打到按钮上 */
}

.im-search-box { padding: 5px 16px 10px; }
.im-search-inner { background: #e9e9eb; height: 36px; border-radius: 10px; display: flex; align-items: center; justify-content: center; padding: 0 10px; transition: all 0.3s; }
.im-search-icon { width: 16px; height: 16px; fill: #8e8e93; margin-right: 6px; }
.im-search-input { border: none; background: transparent; font-size: 16px; color: #000; width: 80px; outline: none; text-align: left; }
.im-search-input::placeholder { color: #8e8e93; }

/* 筛选标签 */
.im-filter-row { display: flex; justify-content: space-between; padding: 0 20px; margin-top: 5px; }
.im-filter-item { font-size: 13px; color: #999; padding-bottom: 8px; cursor: pointer; font-weight: 500; position: relative; }
.im-filter-item.active { color: #007aff; }
.im-filter-item.active::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 2px; background: #007aff; border-radius: 2px; }
.im-login-tip { background: #f9f9f9; padding: 10px 20px; font-size: 11px; color: #999; display: flex; align-items: center; gap: 6px; border-top: 1px solid #f0f0f0; }

/* 列表容器 */
#wx-page-contacts {
    flex-direction: column;
    height: 100%;
    overflow: hidden; /* 防止整个页面乱动 */
}

.im-list-container {
    flex: 1; /* 占满剩余空间 */
    overflow-y: auto !important; /* ★★★ 开启垂直滚动！★★★ */
    -webkit-overflow-scrolling: touch; /* iOS顺滑滚动 */
    padding-bottom: 120px; /* 底部多留点白，防止被导航栏挡住 */
}
.im-contact-card { display: flex; align-items: center; padding: 12px 16px; margin: 10px 16px; background: #fff; border-radius: 16px; box-shadow: 0 2px 15px rgba(0,0,0,0.03); cursor: pointer; transition: transform 0.1s; }
.im-contact-card:active { transform: scale(0.98); }
.im-c-avatar { width: 50px; height: 50px; border-radius: 50%; background-color: #f0f0f0; background-size: cover; background-position: center; margin-right: 15px; flex-shrink: 0; border: 1px solid rgba(0,0,0,0.05); }
.im-c-info { flex: 1; display: flex; flex-direction: column; justify-content: center; gap: 3px; overflow: hidden; }
.im-c-top { display: flex; justify-content: space-between; align-items: baseline; }
.im-c-name { font-size: 16px; font-weight: 600; color: #000; }
.im-c-date { font-size: 12px; color: #c7c7cc; font-weight: 400; }
.im-c-preview { font-size: 14px; color: #8e8e93; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Blink卡片 (聊天列表) */
.blink-card { background: #fff; border-radius: 18px; padding: 12px; display: flex; align-items: center; margin-bottom: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); transition: transform 0.1s; cursor: pointer; }
.blink-card:active { transform: scale(0.98); }
.b-avatar { width: 50px; height: 50px; border-radius: 14px; background-color: #eee; background-size: cover; background-position: center; flex-shrink: 0; margin-right: 12px; }
.b-content { flex: 1; display: flex; flex-direction: column; justify-content: center; gap: 4px; }
.b-top { display: flex; justify-content: space-between; align-items: center; }
.b-name { font-size: 16px; font-weight: 600; color: #333; }
.b-time { font-size: 11px; color: #bbb; }
.b-msg { font-size: 13px; color: #888; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px; }

/* ==========================================================================
   9. CHARACTER CREATOR (Expansion Notice 风格)
   ========================================================================== */

/* 1. 根容器：增加动画属性 */
#sub-page-creator, .exp-theme-root {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background-color: #fff; 
    z-index: 99999 !important;
    
    /* 默认状态：藏在屏幕下面，透明 */
    display: none;
    transform: translateY(100%);
    opacity: 0;
    
    /* 丝滑动画：像 iOS 弹窗一样滑上来 */
    transition: transform 0.35s cubic-bezier(0.32, 0.72, 0, 1), opacity 0.3s ease;
    
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* 激活状态：滑上来，变不透明 */
#sub-page-creator.active, .exp-theme-root.active {
    transform: translateY(0);
    opacity: 1;
}
/* 2. 浏览器顶部 (Browser Chrome) */
.exp-browser-top {
    background: #e0e0e0; /* 浏览器边框灰 */
    padding-top: 50px; /* 避开刘海 */
    flex-shrink: 0;
}

/* 标签栏 */
.exp-tab-bar {
    display: flex;
    align-items: flex-end;
    padding: 0 10px;
    height: 36px;
    background: #dee1e6;
    position: relative;
}
.exp-tab {
    background: #fff;
    border-radius: 8px 8px 0 0;
    padding: 6px 15px;
    display: flex; align-items: center; gap: 8px;
    font-size: 12px; font-weight: 500; color: #333;
    box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
    margin-right: 5px;
    position: relative;
    z-index: 2;
}
.exp-tab.active::after {
    /* 遮住底部的线，让它和下面融为一体 */
    content: ''; position: absolute; bottom: -4px; left: 0; right: 0; height: 4px; background: #fff;
}
.exp-icon { font-size: 14px; }
.exp-close { margin-left: 10px; font-size: 14px; color: #999; cursor: pointer; }
.exp-close:hover { color: #000; }

.exp-win-ctrls {
    margin-left: auto;
    display: flex; gap: 15px;
    font-size: 12px; color: #666;
    padding-bottom: 8px;
}

/* 工具栏/地址栏 */
.exp-tool-bar {
    background: #fff;
    padding: 8px 15px;
    display: flex; align-items: center; gap: 15px;
    border-bottom: 1px solid #eee;
}
.exp-tool-left { display: flex; align-items: center; gap: 8px; font-size: 12px; font-weight: 700; color: #555; }
.exp-grid-icon { font-size: 16px; }

/* 地址栏容器 */
.exp-url-box {
    flex: 1;
    background: #f1f2f5; /* 这一点点灰是灵魂！ */
    border-radius: 4px;  /* 微微的圆角，更有工业感 */
    display: flex; 
    align-items: center; 
    padding: 0 8px;      /* 给左右留点呼吸空间 */
    height: 30px;        /* 固定高度，精致 */
    margin: 0 10px;      /* 和左右图标保持距离 */
    transition: background 0.2s;
}

/* 鼠标放上去变色 */
.exp-url-box:focus-within {
    background: #fff;
    border: 1px solid #007aff; /* 聚焦时亮起蓝色边框 */
    box-shadow: 0 0 0 2px rgba(0,122,255,0.1);
}

/* 输入框本体 */
.exp-search-input {
    flex: 1;
    border: none; 
    outline: none; 
    background: transparent;
    font-size: 12px; 
    color: #333;
    font-family: inherit;
    margin-left: 5px; /* 离放大镜远一点 */
    width: 100%;
}
.exp-search-input::placeholder { color: #ccc; }

/* 调整一下放大镜图标 */
.exp-search-icon {
    font-size: 12px;
    color: #999;
    opacity: 0.8;
}
.exp-search-icon { color: #999; margin-right: 6px; font-size: 14px; }
.exp-url-text { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 150px; }

.exp-tool-right { display: flex; gap: 12px; }
.exp-btn { font-size: 16px; cursor: pointer; color: #555; }
.exp-btn.save-btn { color: #000; } /* 强调保存按钮 */

/* 3. 内容滚动区 */
.exp-content-scroll {
    flex: 1;
    overflow-y: auto;
    padding: 30px 25px;
    background: #fff;
}

/* 4. 头部布局 (Avatar + Info) */
.exp-header-layout {
    display: flex;
    gap: 20px;
    margin-bottom: 40px;
}
.exp-avatar-area { flex-shrink: 0; }
.exp-avatar-circle {
    width: 100px; height: 100px;
    border-radius: 50%;
    background: #f0f0f0;
    overflow: hidden;
    background-size: cover; background-position: center;
    display: flex; justify-content: center; align-items: center;
    cursor: pointer;
    /* 图片滤镜风格 */
    filter: grayscale(20%); 
}
.exp-avatar-tip { font-size: 10px; color: #aaa; text-align: center; line-height: 1.2; }
/* 有图时隐藏提示 */
.exp-avatar-circle[style*="url"] .exp-avatar-tip { display: none; }

.exp-info-area { flex: 1; display: flex; flex-direction: column; justify-content: center; }
.exp-info-title { font-size: 10px; font-weight: bold; color: #666; margin-bottom: 2px; letter-spacing: 0.5px; }
.exp-info-subtitle { font-size: 8px; color: #ccc; margin-bottom: 15px; line-height: 1.2; }

/* 下划线输入行 */
.exp-input-line {
    display: flex; align-items: center;
    border-bottom: 1px solid #eee;
    padding-bottom: 4px;
    margin-bottom: 12px;
}
.exp-prefix { font-weight: bold; font-size: 14px; margin-right: 8px; color: #000; }
.exp-suffix { font-size: 10px; color: #ddd; margin-left: 8px; font-weight: bold; }
.exp-input {
    border: none; outline: none; background: transparent;
    flex: 1; font-size: 14px; font-weight: 600; color: #000;
}
.exp-input::placeholder { color: #eee; font-weight: 400; }

/* 5. About Me 部分 */
.exp-body-section { margin-top: 10px; }
.exp-sec-header {
    display: flex; align-items: center;
    margin-bottom: 15px;
}
.exp-sec-icon { font-size: 14px; margin-right: 8px; color: #666; }
.exp-sec-title { font-size: 14px; font-weight: 500; color: #333; }
.exp-pill-btn {
    margin-left: auto;
    background: #f5f5f5;
    padding: 2px 10px;
    border-radius: 12px;
    font-size: 10px; color: #333; font-weight: bold;
}

/* 文本块风格 */
.exp-text-block {
    font-size: 12px; color: #333; line-height: 1.8;
}
.exp-text-row {
    display: flex; align-items: center; flex-wrap: wrap;
    margin-bottom: 8px;
}
.exp-bold { font-weight: bold; margin-right: 6px; }
.exp-inline-input {
    border: none; border-bottom: 1px dashed #ddd; outline: none;
    font-size: 12px; color: #555; background: transparent;
    width: 120px; padding: 0 4px;
}
.exp-inline-input.small { width: 40px; text-align: center; }
.exp-slash { margin: 0 6px; color: #ddd; }
.exp-divider { margin: 0 10px; color: #eee; }
.exp-label-small { color: #999; margin-right: 2px; }

/* 文本域 */
.exp-text-area-wrapper { margin-top: 15px; }
.exp-row-label { font-weight: 600; margin-bottom: 6px; color: #333; }
.exp-textarea {
    width: 100%;
    border: 1px solid #f5f5f5;
    background: #fafafa;
    border-radius: 4px;
    padding: 8px;
    font-size: 12px; line-height: 1.6; color: #555;
    outline: none; resize: none;
    font-family: inherit;
}
.exp-footer-deco {
    margin-top: 15px; font-size: 10px; color: #bbb; word-spacing: 5px; font-weight: 600;
}

/* 修复弹窗显示问题 */
.custom-alert-overlay { z-index: 100000 !important; }


/* ==========================================================================
   10. SETTINGS & API CONFIG (设置与API)
   ========================================================================== */
.settings-ui { background: #f2f2f7; height: 100%; display: flex; flex-direction: column; }
.settings-header-area { padding: 50px 16px 10px 16px !important; background: #f2f2f7; display: flex; flex-direction: column; gap: 8px; }
.settings-big-title { font-size: 34px; font-weight: 700; color: #000; margin-bottom: 5px; margin-left: 4px; line-height: 1.2; }
.settings-search-bar { background: #e3e3e8; height: 38px; border-radius: 10px; display: flex; align-items: center; padding: 0 10px; color: #8e8e93; font-size: 17px; width: 100%; box-sizing: border-box; }
.s-search-icon { width: 18px; height: 18px; fill: #8e8e93; flex-shrink: 0; }
.s-mic-icon { width: 18px; height: 18px; fill: #8e8e93; flex-shrink: 0; opacity: 0.7; }
.s-search-placeholder { flex: 1; margin-left: 8px; text-align: left; font-size: 17px; line-height: normal; }
.settings-list { padding: 0 16px; flex: 1; overflow-y: auto; padding-bottom: 40px; }
.settings-list .profile-avatar { width: 60px; height: 60px; border-radius: 50%; background-color: #ddd; background-size: cover; background-position: center; flex-shrink: 0; border: 1px solid rgba(0,0,0,0.1); }
.s-group { background: #fff; border-radius: 10px; overflow: hidden; margin-bottom: 18px; }
.s-item { padding: 0 16px; display: flex; justify-content: space-between; align-items: center; height: 48px; cursor: pointer; font-size: 16px; position: relative; }
.s-item:not(:last-child)::after { content: ''; position: absolute; bottom: 0; left: 56px; right: 0; height: 1px; background: #c6c6c8; transform: scaleY(0.5); }
.s-item:active { background: #e5e5ea; }
.profile-item { height: 80px !important; }
.profile-item::after { left: 16px !important; }
.profile-info { display: flex; flex-direction: column; gap: 2px; }
.profile-desc { font-size: 12px; color: #666; }
.s-left { display: flex; align-items: center; gap: 14px; }
.ios-icon-img { width: 29px; height: 29px; border-radius: 6px; object-fit: cover; }
.ios-icon-bg { width: 29px; height: 29px; border-radius: 6px; display: flex; justify-content: center; align-items: center; color: #fff; }
.ios-icon-svg { width: 18px; height: 18px; fill: currentColor; }
.s-right { display: flex; align-items: center; gap: 6px; }
.s-status { font-size: 15px; color: #8e8e93; }
.s-arrow { color: #c4c4c7; font-size: 22px; font-weight: 500; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin-top: -3px; transform: scaleY(1.1); margin-left: auto; padding-left: 10px; }
.ios-switch { position: relative; display: inline-block; width: 51px; height: 31px; }
.ios-switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #e9e9ea; transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 27px; width: 27px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
input:checked + .slider { background-color: #34c759; }
input:checked + .slider:before { transform: translateX(20px); }
.bg-blue { background-color: #007aff; }
.bg-teal { background-color: #5ac8fa; }
.bg-gray { background-color: #8e8e93; }
.bg-orange { background-color: #ff9500; }
.bg-green { background-color: #34c759; }

/* API 设置专属 */
.api-section-header { padding: 20px 16px 8px; font-size: 13px; color: #888; text-transform: uppercase; letter-spacing: 0.5px; }
.api-mode-group { background: #fff; margin: 0 16px; border-radius: 10px; overflow: hidden; display: flex; padding: 2px; background: #e9e9eb; }
.api-mode-btn { flex: 1; text-align: center; padding: 8px 0; font-size: 14px; border-radius: 8px; color: #000; cursor: pointer; transition: all 0.2s; }
.api-mode-btn.active { background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-weight: 600; }
.ios-form-group { background: #fff; border-radius: 10px; overflow: hidden; margin: 0 16px; }
.ios-input-row { 
    min-height: 50px; /* 改成最小高度，防止被撑爆 */
    display: flex; 
    align-items: center; 
    padding: 8px 16px; /* 上下加点间距 */
    border-bottom: 0.5px solid #e5e5ea; 
}

.ios-input-row label { 
    /* ★★★ 关键修改：加大宽度，并不准换行 ★★★ */
    min-width: 90px; 
    font-weight: 600; 
    white-space: nowrap; /* 强制一行显示 */
}

.ios-input-row input { 
    width: 100%; 
    border: none; 
    font-size: 16px; 
    outline: none; 
    
    /* ★★★ 关键修改：灰色胶囊外壳 ★★★ */
    background: #e5e5ea; /* 更深的灰色背景 */
    border-radius: 8px;   /* 圆角 */
    padding: 6px 10px;    /* 内边距 */
    height: 36px;         /* 固定高度 */
    margin-left: 10px;    /* 离左边文字远一点 */
    color: #000;
}

.api-decorative-header {
    margin: 10px 16px 5px;
    font-size: 14px;
    font-weight: 700;
    color: #aaa;
    display: flex;
    justify-content: space-between;
}
.api-decorative-header span {
    font-weight: normal;
    font-size: 12px;
    letter-spacing: 1px;
}

.api-btn-row {
    display: flex;
    gap: 10px;
    padding: 10px 16px;
}

.api-small-btn {
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    color: #fff;
    cursor: pointer;
}
.api-small-btn.dark { background: #666; }
.api-small-btn.red { background: #ff6b6b; }

/* 滑动条样式 */
.api-range-slider {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    background: #ddd;
    border-radius: 2px;
    outline: none;
}
.api-range-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #fff;
    border: 2px solid #333; /* 黑色边框，白色心 */
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* ==========================================================================
   11. CUSTOM ALERTS (自定义弹窗)
   ========================================================================== */
.custom-alert-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
    z-index: 9999; display: flex; justify-content: center; align-items: center; animation: fadeIn 0.2s ease;
}
.custom-alert-box {
    background: #fff; width: 300px; border-radius: 20px; padding: 25px 20px;
    display: flex; flex-direction: column; align-items: center;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    transform: scale(1); animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.alert-title { font-size: 20px; font-weight: 900; color: #333; margin-bottom: 15px; }
.alert-msg { font-size: 14px; color: #666; text-align: center; line-height: 1.6; margin-bottom: 25px; }
.alert-btn-group { display: flex; gap: 15px; width: 100%; justify-content: center; }
.alert-btn { flex: 1; height: 44px; border-radius: 12px; display: flex; justify-content: center; align-items: center; font-size: 16px; font-weight: 700; cursor: pointer; transition: transform 0.1s; }
.alert-btn:active { transform: scale(0.96); }
.alert-btn.cancel { background: #f0f0f0; color: #999; }
.alert-btn.confirm { background: #333; color: #fff; }

@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* ==========================================================================
   12. SODA MUSIC UI (汽水音乐)
   ========================================================================== */
.music-ui { background: var(--soda-dark); color: #fff; height: 100%; display: flex; flex-direction: column; position: relative; overflow: hidden; }
.soda-bg-blur { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(180deg, rgba(30,30,30,0.8), #000); z-index: 0; filter: blur(40px); opacity: 0.6; }
.soda-top-bar { position: relative; z-index: 10; height: 44px; margin-top: 50px; display: flex; justify-content: center; align-items: center; gap: 20px; font-size: 16px; font-weight: 600; color: rgba(255,255,255,0.5); }
.soda-tab.active { color: #fff; position: relative; }
.soda-tab.active::after { content: ''; position: absolute; bottom: -6px; left: 50%; transform: translateX(-50%); width: 16px; height: 3px; background: var(--soda-yellow); border-radius: 2px; }
.soda-main-content { flex: 1; position: relative; z-index: 10; display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; }
.soda-album-cover { width: 300px; height: 300px; background: #333; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); background-size: cover; background-position: center; position: relative; }
.soda-side-actions { position: absolute; right: 15px; bottom: 20px; display: flex; flex-direction: column; gap: 25px; align-items: center; }
.s-action-item { display: flex; flex-direction: column; align-items: center; gap: 4px; opacity: 0.9; }
.s-action-icon { width: 30px; height: 30px; fill: #fff; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); }
.s-action-text { font-size: 10px; font-weight: 500; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
.soda-bottom-area { position: relative; z-index: 10; padding: 0 20px 40px; background: linear-gradient(to top, #000 10%, transparent); }
.soda-info { margin-bottom: 20px; width: 75%; }
.soda-title { font-size: 20px; font-weight: bold; margin-bottom: 6px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.soda-artist { font-size: 14px; color: rgba(255,255,255,0.7); display: flex; align-items: center; gap: 5px; }
.soda-tag { font-size: 10px; background: rgba(255,255,255,0.15); padding: 1px 4px; border-radius: 3px; color: var(--soda-yellow); }
.soda-progress-container { height: 20px; display: flex; align-items: center; gap: 10px; font-size: 10px; color: #888; }
.soda-progress-bg { flex: 1; height: 3px; background: rgba(255,255,255,0.15); border-radius: 2px; position: relative; }
.soda-progress-fill { width: 30%; height: 100%; background: var(--soda-yellow); border-radius: 2px; position: absolute; }
.soda-progress-thumb { width: 10px; height: 10px; background: #fff; border-radius: 50%; position: absolute; right: -5px; top: -3.5px; }
.soda-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; padding: 0 10px; }
.sc-btn { width: 24px; height: 24px; fill: #fff; opacity: 0.8; cursor: pointer; }
.sc-btn:active { opacity: 0.5; }
.sc-play-btn { width: 60px; height: 60px; background: #fff; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; }
.sc-play-icon { width: 24px; height: 24px; fill: #000; margin-left: 2px; }
.sc-pause-icon { width: 24px; height: 24px; fill: #000; margin-left: 0; display: none; }
.sc-play-btn.playing .sc-play-icon { display: none; }
.sc-play-btn.playing .sc-pause-icon { display: block; }

/* ==========================================================================
   11. 补丁 & 修正
   ========================================================================== */

/* 让状态栏右侧图标完全不可点击，防止遮挡下面的按钮 */
.status-bar .right-icons, 
.status-bar .status-icon {
    pointer-events: none !important;
}

/* 让加号按钮内部的 SVG 图标不拦截点击，确保点到的是按钮本体 */
.im-add-btn svg,
.im-add-btn path {
    pointer-events: none !important;
}

/* 再次强化加号按钮的层级 (以防万一) */
.im-add-btn {
    pointer-events: auto !important;
    cursor: pointer !important;
}

/* 修复通讯录滚动 */
#wx-page-contacts {
    flex-direction: column !important;
    height: 100% !important;
    overflow: hidden !important;
    padding-bottom: 0 !important;
}

.im-list-container {
    flex: 1 !important;            /* 占满剩余空间 */
    overflow-y: auto !important;   /* 开启垂直滚动 */
    height: auto !important;
    padding-bottom: 120px !important; /* 底部留白给 TabBar */
    -webkit-overflow-scrolling: touch;
}

/* 修复弹窗右边有缝隙的问题 */
/* 强制它固定在浏览器窗口，而不是手机壳里，这样就无死角覆盖了 */
.custom-alert-overlay {
    position: fixed !important; 
    top: 0; left: 0; right: 0; bottom: 0;
    width: 100vw !important; 
    height: 100vh !important;
    background: rgba(0, 0, 0, 0.4); /* 确保背景色还在 */
    z-index: 99999 !important; /* 保证在最顶层 */
}

/* 修复个人主页气泡删光文字后消失、点不到的问题 */
.wx-p3-bubble, .wx-p3-bubble-right {
    min-width: 40px;  /* 给它一个最小宽度 */
    min-height: 24px; /* 给它一个最小高度 */
    display: inline-block; /* 保证它有物理体积 */
    cursor: text;
}
/* 当气泡里没字的时候，显示一个半透明的三个点，方便你点回去 */
.wx-p3-bubble:empty::before, .wx-p3-bubble-right:empty::before {
    content: '.....';
    color: rgba(255,255,255,0.4);
    pointer-events: none;
}

/* 修复点“Character”没反应 (其实是弹出来了但被挡住了) */
/* 之前是 200，现在直接拉满！谁敢挡我！ */
.safari-theme-root {
    z-index: 99999 !important; 
    background-color: #F2F2F7 !important; /* 确保背景不透明 */
}

/* 强行确保它显示 */
.safari-theme-root[style*="display: flex"] {
    display: flex !important;
}

/* 修复顶栏断层 & 高度不够 */
.exp-browser-top {
    /* 增加顶部填充，让它更高，避开刘海 */
    padding-top: 60px !important; 
    /* 颜色改成和标签栏一样的灰，视觉上就“连”在一起了 */
    background: #dee1e6 !important; 
    /* 去掉下边距，紧贴内容 */
    margin-bottom: 0 !important;
    border-bottom: 1px solid #ccc;
}

/* 修复输入框挤在一起、只显示一半 */
.exp-input-line {
    width: 100%;
    box-sizing: border-box; /* 关键：防止padding撑破屏幕 */
    display: flex;
    align-items: center;
    padding-right: 10px; /* 右边留点空隙 */
}

/* 修复下方大段文字输入框太挤 */
.exp-text-area-wrapper {
    margin-bottom: 25px !important; /* 增加间距 */
    width: 100%;
    padding-right: 10px;
}
.exp-textarea {
    width: 100% !important;
    box-sizing: border-box !important; /* 确保不超出屏幕 */
    min-height: 80px; /* 给个最小高度 */
    background: #fafafa !important;
    border: 1px solid #ddd !important;
}

/* 修复内容区域的连接感 */
.exp-content-scroll {
    padding-top: 20px !important; /* 给内容留点呼吸感 */
    background: #fff !important;
}

/* 修复删除弹窗可能不显示的问题 */
#delete-alert-overlay {
    z-index: 100002 !important; /* 层级拉满 */
}

/* 优化删除按钮样式 */
.delete-btn {
    color: #ff3b30 !important; /* 红色垃圾桶 */
    margin-left: 10px;
    cursor: pointer;
}

/* 锁死根容器，禁止左右滑动 */
#sub-page-creator, .exp-theme-root {
    width: 100vw !important;  /* 强制屏幕宽度 */
    max-width: 100vw !important;
    overflow-x: hidden !important; /* 禁止X轴滚动 */
    left: 0 !important;
    box-sizing: border-box !important;
}

/* 锁死内容区域 */
.exp-content-scroll {
    width: 100% !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
    padding-right: 20px !important; /* 留出右边距，防止贴边 */
}

/* 驯服所有输入框 (关键！) */
.exp-input-line, .exp-text-row, .exp-text-area-wrapper {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
}

/* 防止名字输入框撑开 */
.exp-input {
    min-width: 0 !important; /* 允许缩小 */
    flex: 1 !important;
}

/* 防止大段文字框撑开 */
.exp-textarea {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important; /* 边框算在宽度内 */
}
